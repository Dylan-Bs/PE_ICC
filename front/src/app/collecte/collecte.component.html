<div class="edit-page">
  <div class="page-content">
    <div class="row">
      <mat-card class="col col-md-8 form-container">
        <form *ngIf="!conne.form_send" class="create-form" [formGroup]="exampleForm" novalidate
          (ngSubmit)="onSubmit(exampleForm.value)">
          <h3>Inscription</h3>
          <div class="form-group">
            <mat-form-field class="input-style">
              <input matInput type="email" placeholder="Adresse électronique"
                formControlName="email" required>
            </mat-form-field>
            <ng-container *ngFor="let validation of validation_messages.email">
              <mat-error
                *ngIf="exampleForm.get('email').hasError(validation.type) && (exampleForm.get('email').dirty || exampleForm.get('email').touched)">
                {{validation.message}}</mat-error>
            </ng-container>
          </div>

          <div class="form-group">
            <mat-form-field class="input-style">
              <input matInput type="password" placeholder="Mot de passe" formControlName="password"
                required>
            </mat-form-field>
            <ng-container *ngFor="let validation of validation_messages.password">
              <mat-error
                *ngIf="exampleForm.get('password').hasError(validation.type) && (exampleForm.get('password').dirty || exampleForm.get('password').touched)">
                {{validation.message}}</mat-error>
            </ng-container>
          </div>

          <div class="form-group">
            <mat-form-field class="input-style">
              <input matInput placeholder="Nom" formControlName="name" required>
            </mat-form-field>
            <ng-container *ngFor="let validation of validation_messages.name">
              <mat-error
                *ngIf="exampleForm.get('name').hasError(validation.type) && (exampleForm.get('name').dirty || exampleForm.get('name').touched)">
                {{validation.message}}</mat-error>
            </ng-container>
          </div>

          <div class="form-group">
            <mat-form-field class="input-style">
              <input matInput placeholder="Prénom" formControlName="surname" required>
            </mat-form-field>
            <ng-container *ngFor="let validation of validation_messages.surname">
              <mat-error
                *ngIf="exampleForm.get('surname').hasError(validation.type) && (exampleForm.get('surname').dirty || exampleForm.get('surname').touched)">
                {{validation.message}}</mat-error>
            </ng-container>
          </div>
          
          <div class="form-group">
            <mat-label>Promotion*:<br></mat-label>
            <mat-slider formControlName="promo" thumbLabel class="slider"
              formControlName="promo" tickInterval="1" min="1990" max="2100"></mat-slider>
          </div>

          <div class="form-group">
            <mat-form-field class="input-style">
              <mat-label>Option ING3</mat-label>
              <mat-select formControlName="optionsIng3Control" required>
                <mat-option>-- Aucun --</mat-option>
                <mat-optgroup *ngFor="let group of optionsIng3Groups" [label]="group.name">
                  <mat-option *ngFor="let option of group.option" [value]="option.value">
                    {{option.viewValue}}
                  </mat-option>
                </mat-optgroup>
              </mat-select>
            </mat-form-field>
            <ng-container *ngFor="let validation of validation_messages.optionsIng3Control">
              <mat-error
                *ngIf="exampleForm.get('optionsIng3Control').hasError(validation.type) && (exampleForm.get('optionsIng3Control').dirty || exampleForm.get('optionsIng3Control').touched)">
                {{validation.message}}</mat-error>
            </ng-container>
          </div>

          <div class="form-group">
            <mat-form-field class="input-style">
              <input matInput placeholder="Entreprise" formControlName="entreprise">
            </mat-form-field>
          </div>

          <div class="form-group">
            <mat-form-field class="input-style">
              <input matInput placeholder="Ville travail" formControlName="ville">
            </mat-form-field>
          </div>

          <div class="form-group">
            <mat-form-field class="input-style">
              <input matInput type="number" placeholder="Salaire" formControlName="salaire">
            </mat-form-field>
          </div>

          <div class="form-group">
            <mat-checkbox class="example-margin" [(indeterminate)]="indeterminate" [labelPosition]="labelPosition"
              formControlName="autorisationCollecte">
              J'autorise la collecte et mise à jour numérique des informations de ce formulaire
            </mat-checkbox>
          </div>

          <button mat-raised-button class="submit-button" color="primary" type="submit"
            [disabled]="!exampleForm.valid">Inscription</button>
        </form>
      </mat-card>
    </div>
  </div>


  <div *ngIf="conne.form_send">
    <p>Vos données ont été transmises, merci pour votre coopération</p>
  </div>
</div>